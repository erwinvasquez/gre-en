"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/[locale]/account/page",{

/***/ "(app-pages-browser)/./src/hooks/useAuth.ts":
/*!******************************!*\
  !*** ./src/hooks/useAuth.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _redux_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/redux/hooks */ \"(app-pages-browser)/./src/redux/hooks.ts\");\n/* __next_internal_client_entry_do_not_use__ useAuth auto */ \n\n\n\n/**\n * Hook para centralizar la lÃ³gica de autenticaciÃ³n\n *\n * @returns Objeto con mÃ©todos y estado de autenticaciÃ³n\n *\n * @example\n * const { login, loginWithGoogle, logout, isLoading, error } = useAuth();\n *\n * // Iniciar sesiÃ³n con email y contraseÃ±a\n * const handleSubmit = async (e) => {\n *   e.preventDefault();\n *   const success = await login({ email, password });\n *   if (success) {\n *     // Hacer algo despuÃ©s del login exitoso\n *   }\n * };\n */ function useAuth() {\n    const { data: session, status, update } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.useSession)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const locale = (0,_redux_hooks__WEBPACK_IMPORTED_MODULE_3__.useAppSelector)((state)=>state.language.locale) || \"en\";\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    /**\n   * Iniciar sesiÃ³n con email y contraseÃ±a\n   */ const login = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (credentials)=>{\n        setIsLoading(true);\n        setError(null);\n        try {\n            console.log(\"\\uD83D\\uDD11 useAuth: Iniciando sesi\\xf3n con credenciales...\");\n            const result = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.signIn)(\"credentials\", {\n                redirect: false,\n                email: credentials.email,\n                password: credentials.password\n            });\n            if (result === null || result === void 0 ? void 0 : result.error) {\n                console.log(\"âŒ useAuth: Error en login:\", result.error);\n                setError({\n                    message: \"Credenciales incorrectas\"\n                });\n                return false;\n            }\n            if (result === null || result === void 0 ? void 0 : result.ok) {\n                console.log(\"âœ… useAuth: Login exitoso\");\n                // Actualizar la sesiÃ³n\n                await update();\n                console.log(\"âœ… useAuth: Sesi\\xf3n actualizada\");\n                // Forzar actualizaciÃ³n de la UI usando router\n                router.refresh();\n                // RedirecciÃ³n despuÃ©s de login exitoso\n                console.log(\"\\uD83D\\uDD04 useAuth: Redirigiendo despu\\xe9s de login exitoso...\");\n                router.push(\"/\".concat(locale));\n                return true;\n            }\n            return false;\n        } catch (err) {\n            console.error(\"âŒ useAuth: Error de autenticaci\\xf3n:\", err);\n            setError({\n                message: \"Ocurri\\xf3 un error durante la autenticaci\\xf3n\",\n                code: \"auth/unknown-error\"\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    }, [\n        update,\n        router,\n        locale\n    ]);\n    /**\n   * Iniciar sesiÃ³n con Google\n   */ const loginWithGoogle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        setIsLoading(true);\n        setError(null);\n        try {\n            console.log(\"\\uD83D\\uDD11 useAuth: Iniciando login con Google...\");\n            // Usar callbackUrl para asegurar que la redirecciÃ³n funcione correctamente\n            const callbackUrl = \"\".concat(window.location.origin, \"/\").concat(locale);\n            const result = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.signIn)(\"google\", {\n                redirect: false,\n                callbackUrl\n            });\n            if (result === null || result === void 0 ? void 0 : result.error) {\n                console.log(\"âŒ useAuth: Error en login con Google:\", result.error);\n                setError({\n                    message: \"Error al iniciar sesi\\xf3n con Google\"\n                });\n                return false;\n            }\n            if (result === null || result === void 0 ? void 0 : result.ok) {\n                console.log(\"âœ… useAuth: Login con Google exitoso\");\n                // Si hay una URL de redirecciÃ³n, navegar a ella\n                if (result.url) {\n                    console.log(\"\\uD83D\\uDD04 useAuth: Redirigiendo a:\", result.url);\n                    window.location.href = result.url;\n                    return true;\n                }\n                // Si no hay URL de redirecciÃ³n, actualizar la sesiÃ³n y refrescar\n                await update();\n                router.refresh();\n                router.push(\"/\".concat(locale));\n                return true;\n            }\n            return false;\n        } catch (err) {\n            console.error(\"âŒ useAuth: Error de autenticaci\\xf3n con Google:\", err);\n            setError({\n                message: \"Error al iniciar sesi\\xf3n con Google\",\n                code: \"auth/google-signin-failed\"\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    }, [\n        update,\n        router,\n        locale\n    ]);\n    /**\n   * Registrar un nuevo usuario\n   * Nota: Esta funciÃ³n es un ejemplo y debe adaptarse a tu implementaciÃ³n real\n   */ const register = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (credentials)=>{\n        setIsLoading(true);\n        setError(null);\n        try {\n            // AquÃ­ implementarÃ­as la lÃ³gica real de registro\n            // Por ejemplo, una llamada a tu API\n            console.log(\"\\uD83D\\uDD11 useAuth: Registrando nuevo usuario...\");\n            // SimulaciÃ³n de registro exitoso\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n            // DespuÃ©s del registro exitoso, iniciar sesiÃ³n automÃ¡ticamente\n            return await login({\n                email: credentials.email,\n                password: credentials.password\n            });\n        } catch (err) {\n            console.error(\"âŒ useAuth: Error en registro:\", err);\n            setError({\n                message: \"Error al registrar usuario\",\n                code: \"auth/registration-failed\"\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    }, [\n        login\n    ]);\n    /**\n   * Cerrar sesiÃ³n\n   */ const logout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        setIsLoading(true);\n        try {\n            console.log(\"\\uD83D\\uDD04 useAuth: Cerrando sesi\\xf3n...\");\n            // Cerrar sesiÃ³n con NextAuth\n            // Usamos redirect: true para forzar una recarga completa de la pÃ¡gina\n            // Esto garantiza que el estado de la sesiÃ³n se actualice correctamente\n            await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.signOut)({\n                redirect: true,\n                callbackUrl: \"/\".concat(locale)\n            });\n            // Nota: El cÃ³digo despuÃ©s de signOut con redirect: true no se ejecutarÃ¡\n            // porque la pÃ¡gina se recargarÃ¡ automÃ¡ticamente\n            return true;\n        } catch (err) {\n            console.error(\"âŒ useAuth: Error al cerrar sesi\\xf3n:\", err);\n            setError({\n                message: \"Error al cerrar sesi\\xf3n\",\n                code: \"auth/signout-failed\"\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    }, [\n        locale\n    ]);\n    /**\n   * Limpiar errores de autenticaciÃ³n\n   */ const clearError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setError(null);\n    }, []);\n    return {\n        session,\n        status,\n        isLoading,\n        error,\n        isAuthenticated: status === \"authenticated\" && !!session,\n        login,\n        loginWithGoogle,\n        register,\n        logout,\n        clearError\n    };\n} // \"use client\"\n // import { useState, useCallback } from \"react\"\n // import { signIn, signOut, useSession } from \"next-auth/react\"\n // import { useRouter } from \"next/navigation\"\n // import { useAppSelector } from \"@/redux/hooks\"\n // interface LoginCredentials {\n //   email: string\n //   password: string\n // }\n // interface RegisterCredentials extends LoginCredentials {\n //   name: string\n // }\n // interface AuthError {\n //   message: string\n //   code?: string\n // }\n // /**\n //  * Hook para centralizar la lÃ³gica de autenticaciÃ³n\n //  *\n //  * @returns Objeto con mÃ©todos y estado de autenticaciÃ³n\n //  *\n //  * @example\n //  * const { login, loginWithGoogle, logout, isLoading, error } = useAuth();\n //  *\n //  * // Iniciar sesiÃ³n con email y contraseÃ±a\n //  * const handleSubmit = async (e) => {\n //  *   e.preventDefault();\n //  *   const success = await login({ email, password });\n //  *   if (success) {\n //  *     // Hacer algo despuÃ©s del login exitoso\n //  *   }\n //  * };\n //  */\n // export function useAuth() {\n //   const { data: session, status, update } = useSession()\n //   const router = useRouter()\n //   const locale = useAppSelector((state) => state.language.locale) || \"en\"\n //   const [isLoading, setIsLoading] = useState(false)\n //   const [error, setError] = useState<AuthError | null>(null)\n //   /**\n //    * Iniciar sesiÃ³n con email y contraseÃ±a\n //    */\n //   const login = useCallback(\n //     async (credentials: LoginCredentials) => {\n //       setIsLoading(true)\n //       setError(null)\n //       try {\n //         console.log(\"ðŸ”‘ useAuth: Iniciando sesiÃ³n con credenciales...\")\n //         const result = await signIn(\"credentials\", {\n //           redirect: false,\n //           email: credentials.email,\n //           password: credentials.password,\n //         })\n //         if (result?.error) {\n //           console.log(\"âŒ useAuth: Error en login:\", result.error)\n //           setError({ message: \"Credenciales incorrectas\" })\n //           return false\n //         }\n //         if (result?.ok) {\n //           console.log(\"âœ… useAuth: Login exitoso\")\n //           // Actualizar la sesiÃ³n\n //           await update()\n //           console.log(\"âœ… useAuth: SesiÃ³n actualizada\")\n //           // Forzar actualizaciÃ³n de la UI usando router\n //           router.refresh()\n //           // SOLUCIÃ“N AGRESIVA: Recargar la pÃ¡gina despuÃ©s de un breve retraso\n //           // Esto garantiza que todos los componentes se actualicen correctamente\n //           console.log(\"ðŸ”„ useAuth: Programando recarga de pÃ¡gina para asegurar actualizaciÃ³n completa...\")\n //           setTimeout(() => {\n //             console.log(\"ðŸ”„ useAuth: Recargando pÃ¡gina...\")\n //             window.location.href = `/${locale}`\n //           }, 100)\n //           return true\n //         }\n //         return false\n //       } catch (err) {\n //         console.error(\"âŒ useAuth: Error de autenticaciÃ³n:\", err)\n //         setError({\n //           message: \"OcurriÃ³ un error durante la autenticaciÃ³n\",\n //           code: \"auth/unknown-error\",\n //         })\n //         return false\n //       } finally {\n //         setIsLoading(false)\n //       }\n //     },\n //     [update, router],\n //   )\n //   /**\n //    * Iniciar sesiÃ³n con Google\n //    */\n //   const loginWithGoogle = useCallback(async () => {\n //     setIsLoading(true)\n //     setError(null)\n //     try {\n //       console.log(\"ðŸ”‘ useAuth: Iniciando login con Google...\")\n //       const result = await signIn(\"google\", { redirect: false })\n //       if (result?.error) {\n //         console.log(\"âŒ useAuth: Error en login con Google:\", result.error)\n //         setError({ message: \"Error al iniciar sesiÃ³n con Google\" })\n //         return false\n //       }\n //       if (result?.ok) {\n //         console.log(\"âœ… useAuth: Login con Google exitoso\")\n //         // Actualizar la sesiÃ³n\n //         await update()\n //         // Forzar actualizaciÃ³n de la UI\n //         router.refresh()\n //         // SOLUCIÃ“N AGRESIVA: Recargar la pÃ¡gina despuÃ©s de un breve retraso\n //         console.log(\"ðŸ”„ useAuth: Programando recarga de pÃ¡gina para asegurar actualizaciÃ³n completa...\")\n //         setTimeout(() => {\n //           console.log(\"ðŸ”„ useAuth: Recargando pÃ¡gina...\")\n //           window.location.href = `/${locale}`\n //         }, 100)\n //         return true\n //       }\n //       return false\n //     } catch (err) {\n //       console.error(\"âŒ useAuth: Error de autenticaciÃ³n con Google:\", err)\n //       setError({\n //         message: \"Error al iniciar sesiÃ³n con Google\",\n //         code: \"auth/google-signin-failed\",\n //       })\n //       return false\n //     } finally {\n //       setIsLoading(false)\n //     }\n //   }, [update, router])\n //   /**\n //    * Registrar un nuevo usuario\n //    * Nota: Esta funciÃ³n es un ejemplo y debe adaptarse a tu implementaciÃ³n real\n //    */\n //   const register = useCallback(\n //     async (credentials: RegisterCredentials) => {\n //       setIsLoading(true)\n //       setError(null)\n //       try {\n //         // AquÃ­ implementarÃ­as la lÃ³gica real de registro\n //         // Por ejemplo, una llamada a tu API\n //         console.log(\"ðŸ”‘ useAuth: Registrando nuevo usuario...\")\n //         // SimulaciÃ³n de registro exitoso\n //         await new Promise((resolve) => setTimeout(resolve, 1000))\n //         // DespuÃ©s del registro exitoso, iniciar sesiÃ³n automÃ¡ticamente\n //         return await login({\n //           email: credentials.email,\n //           password: credentials.password,\n //         })\n //       } catch (err) {\n //         console.error(\"âŒ useAuth: Error en registro:\", err)\n //         setError({\n //           message: \"Error al registrar usuario\",\n //           code: \"auth/registration-failed\",\n //         })\n //         return false\n //       } finally {\n //         setIsLoading(false)\n //       }\n //     },\n //     [login],\n //   )\n //   /**\n //    * Cerrar sesiÃ³n\n //    */\n //   const logout = useCallback(async () => {\n //     setIsLoading(true)\n //     try {\n //       console.log(\"ðŸ”„ useAuth: Cerrando sesiÃ³n...\")\n //       await signOut({ redirect: false })\n //       console.log(\"âœ… useAuth: SesiÃ³n cerrada correctamente\")\n //       // Forzar actualizaciÃ³n de la UI usando router\n //       router.refresh()\n //       // SOLUCIÃ“N AGRESIVA: Recargar la pÃ¡gina despuÃ©s de un breve retraso\n //       console.log(\"ðŸ”„ useAuth: Programando recarga de pÃ¡gina para asegurar actualizaciÃ³n completa...\")\n //       setTimeout(() => {\n //         console.log(\"ðŸ”„ useAuth: Recargando pÃ¡gina...\")\n //         window.location.href = `/${locale}`\n //       }, 100)\n //       return true\n //     } catch (err) {\n //       console.error(\"âŒ useAuth: Error al cerrar sesiÃ³n:\", err)\n //       setError({\n //         message: \"Error al cerrar sesiÃ³n\",\n //         code: \"auth/signout-failed\",\n //       })\n //       return false\n //     } finally {\n //       setIsLoading(false)\n //     }\n //   }, [router, locale])\n //   /**\n //    * Limpiar errores de autenticaciÃ³n\n //    */\n //   const clearError = useCallback(() => {\n //     setError(null)\n //   }, [])\n //   return {\n //     session,\n //     status,\n //     isLoading,\n //     error,\n //     isAuthenticated: status === \"authenticated\" && !!session,\n //     login,\n //     loginWithGoogle,\n //     register,\n //     logout,\n //     clearError,\n //   }\n // }\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VBdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7NkRBRTZDO0FBQ2dCO0FBQ2xCO0FBQ0c7QUFnQjlDOzs7Ozs7Ozs7Ozs7Ozs7O0NBZ0JDLEdBQ00sU0FBU087SUFDZCxNQUFNLEVBQUVDLE1BQU1DLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR1AsMkRBQVVBO0lBQ3BELE1BQU1RLFNBQVNQLDBEQUFTQTtJQUN4QixNQUFNUSxTQUFTUCw0REFBY0EsQ0FBQyxDQUFDUSxRQUFVQSxNQUFNQyxRQUFRLENBQUNGLE1BQU0sS0FBSztJQUNuRSxNQUFNLENBQUNHLFdBQVdDLGFBQWEsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2tCLE9BQU9DLFNBQVMsR0FBR25CLCtDQUFRQSxDQUFtQjtJQUVyRDs7R0FFQyxHQUNELE1BQU1vQixRQUFRbkIsa0RBQVdBLENBQ3ZCLE9BQU9vQjtRQUNMSixhQUFhO1FBQ2JFLFNBQVM7UUFFVCxJQUFJO1lBQ0ZHLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU1DLFNBQVMsTUFBTXRCLHVEQUFNQSxDQUFDLGVBQWU7Z0JBQ3pDdUIsVUFBVTtnQkFDVkMsT0FBT0wsWUFBWUssS0FBSztnQkFDeEJDLFVBQVVOLFlBQVlNLFFBQVE7WUFDaEM7WUFFQSxJQUFJSCxtQkFBQUEsNkJBQUFBLE9BQVFOLEtBQUssRUFBRTtnQkFDakJJLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEJDLE9BQU9OLEtBQUs7Z0JBQ3REQyxTQUFTO29CQUFFUyxTQUFTO2dCQUEyQjtnQkFDL0MsT0FBTztZQUNUO1lBRUEsSUFBSUosbUJBQUFBLDZCQUFBQSxPQUFRSyxFQUFFLEVBQUU7Z0JBQ2RQLFFBQVFDLEdBQUcsQ0FBQztnQkFFWix1QkFBdUI7Z0JBQ3ZCLE1BQU1aO2dCQUNOVyxRQUFRQyxHQUFHLENBQUM7Z0JBRVosOENBQThDO2dCQUM5Q1gsT0FBT2tCLE9BQU87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QUEyQztDQUMzQyxxQkFBcUI7Q0FDckIsV0FBVztDQUVYLGFBQWE7Q0FDYixlQUFlO0NBQ2YsY0FBYztDQUNkLGlCQUFpQjtDQUNqQixhQUFhO0NBQ2IsZ0VBQWdFO0NBQ2hFLGFBQWE7Q0FDYix1QkFBdUI7Q0FDdkIsZ0JBQWdCO0NBQ2hCLGNBQWM7Q0FDZCxrQkFBa0I7Q0FDbEIsTUFBTTtDQUNOLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2hvb2tzL3VzZUF1dGgudHM/M2MxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0LCB1c2VTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aC9yZWFjdFwiXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCJcbmltcG9ydCB7IHVzZUFwcFNlbGVjdG9yIH0gZnJvbSBcIkAvcmVkdXgvaG9va3NcIlxuXG5pbnRlcmZhY2UgTG9naW5DcmVkZW50aWFscyB7XG4gIGVtYWlsOiBzdHJpbmdcbiAgcGFzc3dvcmQ6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgUmVnaXN0ZXJDcmVkZW50aWFscyBleHRlbmRzIExvZ2luQ3JlZGVudGlhbHMge1xuICBuYW1lOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIEF1dGhFcnJvciB7XG4gIG1lc3NhZ2U6IHN0cmluZ1xuICBjb2RlPzogc3RyaW5nXG59XG5cbi8qKlxuICogSG9vayBwYXJhIGNlbnRyYWxpemFyIGxhIGzDs2dpY2EgZGUgYXV0ZW50aWNhY2nDs25cbiAqXG4gKiBAcmV0dXJucyBPYmpldG8gY29uIG3DqXRvZG9zIHkgZXN0YWRvIGRlIGF1dGVudGljYWNpw7NuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHsgbG9naW4sIGxvZ2luV2l0aEdvb2dsZSwgbG9nb3V0LCBpc0xvYWRpbmcsIGVycm9yIH0gPSB1c2VBdXRoKCk7XG4gKlxuICogLy8gSW5pY2lhciBzZXNpw7NuIGNvbiBlbWFpbCB5IGNvbnRyYXNlw7FhXG4gKiBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICogICBlLnByZXZlbnREZWZhdWx0KCk7XG4gKiAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KTtcbiAqICAgaWYgKHN1Y2Nlc3MpIHtcbiAqICAgICAvLyBIYWNlciBhbGdvIGRlc3B1w6lzIGRlbCBsb2dpbiBleGl0b3NvXG4gKiAgIH1cbiAqIH07XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBdXRoKCkge1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIHN0YXR1cywgdXBkYXRlIH0gPSB1c2VTZXNzaW9uKClcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgbG9jYWxlID0gdXNlQXBwU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5sYW5ndWFnZS5sb2NhbGUpIHx8IFwiZW5cIlxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8QXV0aEVycm9yIHwgbnVsbD4obnVsbClcblxuICAvKipcbiAgICogSW5pY2lhciBzZXNpw7NuIGNvbiBlbWFpbCB5IGNvbnRyYXNlw7FhXG4gICAqL1xuICBjb25zdCBsb2dpbiA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscykgPT4ge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICBzZXRFcnJvcihudWxsKVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflJEgdXNlQXV0aDogSW5pY2lhbmRvIHNlc2nDs24gY29uIGNyZWRlbmNpYWxlcy4uLlwiKVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW4oXCJjcmVkZW50aWFsc1wiLCB7XG4gICAgICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxuICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogY3JlZGVudGlhbHMucGFzc3dvcmQsXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHJlc3VsdD8uZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKdjCB1c2VBdXRoOiBFcnJvciBlbiBsb2dpbjpcIiwgcmVzdWx0LmVycm9yKVxuICAgICAgICAgIHNldEVycm9yKHsgbWVzc2FnZTogXCJDcmVkZW5jaWFsZXMgaW5jb3JyZWN0YXNcIiB9KVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdD8ub2spIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSB1c2VBdXRoOiBMb2dpbiBleGl0b3NvXCIpXG5cbiAgICAgICAgICAvLyBBY3R1YWxpemFyIGxhIHNlc2nDs25cbiAgICAgICAgICBhd2FpdCB1cGRhdGUoKVxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIHVzZUF1dGg6IFNlc2nDs24gYWN0dWFsaXphZGFcIilcblxuICAgICAgICAgIC8vIEZvcnphciBhY3R1YWxpemFjacOzbiBkZSBsYSBVSSB1c2FuZG8gcm91dGVyXG4gICAgICAgICAgcm91dGVyLnJlZnJlc2goKVxuXG4gICAgICAgICAgLy8gUmVkaXJlY2Npw7NuIGRlc3B1w6lzIGRlIGxvZ2luIGV4aXRvc29cbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgdXNlQXV0aDogUmVkaXJpZ2llbmRvIGRlc3B1w6lzIGRlIGxvZ2luIGV4aXRvc28uLi5cIilcbiAgICAgICAgICByb3V0ZXIucHVzaChgLyR7bG9jYWxlfWApXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgdXNlQXV0aDogRXJyb3IgZGUgYXV0ZW50aWNhY2nDs246XCIsIGVycilcbiAgICAgICAgc2V0RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpw7MgdW4gZXJyb3IgZHVyYW50ZSBsYSBhdXRlbnRpY2FjacOzblwiLFxuICAgICAgICAgIGNvZGU6IFwiYXV0aC91bmtub3duLWVycm9yXCIsXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH0sXG4gICAgW3VwZGF0ZSwgcm91dGVyLCBsb2NhbGVdLFxuICApXG5cbiAgLyoqXG4gICAqIEluaWNpYXIgc2VzacOzbiBjb24gR29vZ2xlXG4gICAqL1xuICBjb25zdCBsb2dpbldpdGhHb29nbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflJEgdXNlQXV0aDogSW5pY2lhbmRvIGxvZ2luIGNvbiBHb29nbGUuLi5cIilcblxuICAgICAgLy8gVXNhciBjYWxsYmFja1VybCBwYXJhIGFzZWd1cmFyIHF1ZSBsYSByZWRpcmVjY2nDs24gZnVuY2lvbmUgY29ycmVjdGFtZW50ZVxuICAgICAgY29uc3QgY2FsbGJhY2tVcmwgPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS8ke2xvY2FsZX1gXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbihcImdvb2dsZVwiLCB7XG4gICAgICAgIHJlZGlyZWN0OiBmYWxzZSxcbiAgICAgICAgY2FsbGJhY2tVcmwsXG4gICAgICB9KVxuXG4gICAgICBpZiAocmVzdWx0Py5lcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKdjCB1c2VBdXRoOiBFcnJvciBlbiBsb2dpbiBjb24gR29vZ2xlOlwiLCByZXN1bHQuZXJyb3IpXG4gICAgICAgIHNldEVycm9yKHsgbWVzc2FnZTogXCJFcnJvciBhbCBpbmljaWFyIHNlc2nDs24gY29uIEdvb2dsZVwiIH0pXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0Py5vaykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSB1c2VBdXRoOiBMb2dpbiBjb24gR29vZ2xlIGV4aXRvc29cIilcblxuICAgICAgICAvLyBTaSBoYXkgdW5hIFVSTCBkZSByZWRpcmVjY2nDs24sIG5hdmVnYXIgYSBlbGxhXG4gICAgICAgIGlmIChyZXN1bHQudXJsKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIHVzZUF1dGg6IFJlZGlyaWdpZW5kbyBhOlwiLCByZXN1bHQudXJsKVxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdWx0LnVybFxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaSBubyBoYXkgVVJMIGRlIHJlZGlyZWNjacOzbiwgYWN0dWFsaXphciBsYSBzZXNpw7NuIHkgcmVmcmVzY2FyXG4gICAgICAgIGF3YWl0IHVwZGF0ZSgpXG4gICAgICAgIHJvdXRlci5yZWZyZXNoKClcbiAgICAgICAgcm91dGVyLnB1c2goYC8ke2xvY2FsZX1gKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgdXNlQXV0aDogRXJyb3IgZGUgYXV0ZW50aWNhY2nDs24gY29uIEdvb2dsZTpcIiwgZXJyKVxuICAgICAgc2V0RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBcIkVycm9yIGFsIGluaWNpYXIgc2VzacOzbiBjb24gR29vZ2xlXCIsXG4gICAgICAgIGNvZGU6IFwiYXV0aC9nb29nbGUtc2lnbmluLWZhaWxlZFwiLFxuICAgICAgfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9LCBbdXBkYXRlLCByb3V0ZXIsIGxvY2FsZV0pXG5cbiAgLyoqXG4gICAqIFJlZ2lzdHJhciB1biBudWV2byB1c3VhcmlvXG4gICAqIE5vdGE6IEVzdGEgZnVuY2nDs24gZXMgdW4gZWplbXBsbyB5IGRlYmUgYWRhcHRhcnNlIGEgdHUgaW1wbGVtZW50YWNpw7NuIHJlYWxcbiAgICovXG4gIGNvbnN0IHJlZ2lzdGVyID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKGNyZWRlbnRpYWxzOiBSZWdpc3RlckNyZWRlbnRpYWxzKSA9PiB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgIHNldEVycm9yKG51bGwpXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEFxdcOtIGltcGxlbWVudGFyw61hcyBsYSBsw7NnaWNhIHJlYWwgZGUgcmVnaXN0cm9cbiAgICAgICAgLy8gUG9yIGVqZW1wbG8sIHVuYSBsbGFtYWRhIGEgdHUgQVBJXG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UkSB1c2VBdXRoOiBSZWdpc3RyYW5kbyBudWV2byB1c3VhcmlvLi4uXCIpXG5cbiAgICAgICAgLy8gU2ltdWxhY2nDs24gZGUgcmVnaXN0cm8gZXhpdG9zb1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSlcblxuICAgICAgICAvLyBEZXNwdcOpcyBkZWwgcmVnaXN0cm8gZXhpdG9zbywgaW5pY2lhciBzZXNpw7NuIGF1dG9tw6F0aWNhbWVudGVcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxvZ2luKHtcbiAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQ6IGNyZWRlbnRpYWxzLnBhc3N3b3JkLFxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgdXNlQXV0aDogRXJyb3IgZW4gcmVnaXN0cm86XCIsIGVycilcbiAgICAgICAgc2V0RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgYWwgcmVnaXN0cmFyIHVzdWFyaW9cIixcbiAgICAgICAgICBjb2RlOiBcImF1dGgvcmVnaXN0cmF0aW9uLWZhaWxlZFwiLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9LFxuICAgIFtsb2dpbl0sXG4gIClcblxuICAvKipcbiAgICogQ2VycmFyIHNlc2nDs25cbiAgICovXG4gIGNvbnN0IGxvZ291dCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgdXNlQXV0aDogQ2VycmFuZG8gc2VzacOzbi4uLlwiKVxuXG4gICAgICAvLyBDZXJyYXIgc2VzacOzbiBjb24gTmV4dEF1dGhcbiAgICAgIC8vIFVzYW1vcyByZWRpcmVjdDogdHJ1ZSBwYXJhIGZvcnphciB1bmEgcmVjYXJnYSBjb21wbGV0YSBkZSBsYSBww6FnaW5hXG4gICAgICAvLyBFc3RvIGdhcmFudGl6YSBxdWUgZWwgZXN0YWRvIGRlIGxhIHNlc2nDs24gc2UgYWN0dWFsaWNlIGNvcnJlY3RhbWVudGVcbiAgICAgIGF3YWl0IHNpZ25PdXQoe1xuICAgICAgICByZWRpcmVjdDogdHJ1ZSxcbiAgICAgICAgY2FsbGJhY2tVcmw6IGAvJHtsb2NhbGV9YCxcbiAgICAgIH0pXG5cbiAgICAgIC8vIE5vdGE6IEVsIGPDs2RpZ28gZGVzcHXDqXMgZGUgc2lnbk91dCBjb24gcmVkaXJlY3Q6IHRydWUgbm8gc2UgZWplY3V0YXLDoVxuICAgICAgLy8gcG9ycXVlIGxhIHDDoWdpbmEgc2UgcmVjYXJnYXLDoSBhdXRvbcOhdGljYW1lbnRlXG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIHVzZUF1dGg6IEVycm9yIGFsIGNlcnJhciBzZXNpw7NuOlwiLCBlcnIpXG4gICAgICBzZXRFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgYWwgY2VycmFyIHNlc2nDs25cIixcbiAgICAgICAgY29kZTogXCJhdXRoL3NpZ25vdXQtZmFpbGVkXCIsXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtsb2NhbGVdKVxuXG4gIC8qKlxuICAgKiBMaW1waWFyIGVycm9yZXMgZGUgYXV0ZW50aWNhY2nDs25cbiAgICovXG4gIGNvbnN0IGNsZWFyRXJyb3IgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RXJyb3IobnVsbClcbiAgfSwgW10pXG5cbiAgcmV0dXJuIHtcbiAgICBzZXNzaW9uLFxuICAgIHN0YXR1cyxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgaXNBdXRoZW50aWNhdGVkOiBzdGF0dXMgPT09IFwiYXV0aGVudGljYXRlZFwiICYmICEhc2Vzc2lvbixcbiAgICBsb2dpbixcbiAgICBsb2dpbldpdGhHb29nbGUsXG4gICAgcmVnaXN0ZXIsXG4gICAgbG9nb3V0LFxuICAgIGNsZWFyRXJyb3IsXG4gIH1cbn1cblxuXG5cblxuLy8gXCJ1c2UgY2xpZW50XCJcblxuLy8gaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbi8vIGltcG9ydCB7IHNpZ25Jbiwgc2lnbk91dCwgdXNlU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIlxuLy8gaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiXG4vLyBpbXBvcnQgeyB1c2VBcHBTZWxlY3RvciB9IGZyb20gXCJAL3JlZHV4L2hvb2tzXCJcblxuLy8gaW50ZXJmYWNlIExvZ2luQ3JlZGVudGlhbHMge1xuLy8gICBlbWFpbDogc3RyaW5nXG4vLyAgIHBhc3N3b3JkOiBzdHJpbmdcbi8vIH1cblxuLy8gaW50ZXJmYWNlIFJlZ2lzdGVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBMb2dpbkNyZWRlbnRpYWxzIHtcbi8vICAgbmFtZTogc3RyaW5nXG4vLyB9XG5cbi8vIGludGVyZmFjZSBBdXRoRXJyb3Ige1xuLy8gICBtZXNzYWdlOiBzdHJpbmdcbi8vICAgY29kZT86IHN0cmluZ1xuLy8gfVxuXG4vLyAvKipcbi8vICAqIEhvb2sgcGFyYSBjZW50cmFsaXphciBsYSBsw7NnaWNhIGRlIGF1dGVudGljYWNpw7NuXG4vLyAgKlxuLy8gICogQHJldHVybnMgT2JqZXRvIGNvbiBtw6l0b2RvcyB5IGVzdGFkbyBkZSBhdXRlbnRpY2FjacOzblxuLy8gICpcbi8vICAqIEBleGFtcGxlXG4vLyAgKiBjb25zdCB7IGxvZ2luLCBsb2dpbldpdGhHb29nbGUsIGxvZ291dCwgaXNMb2FkaW5nLCBlcnJvciB9ID0gdXNlQXV0aCgpO1xuLy8gICpcbi8vICAqIC8vIEluaWNpYXIgc2VzacOzbiBjb24gZW1haWwgeSBjb250cmFzZcOxYVxuLy8gICogY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbi8vICAqICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICogICBjb25zdCBzdWNjZXNzID0gYXdhaXQgbG9naW4oeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4vLyAgKiAgIGlmIChzdWNjZXNzKSB7XG4vLyAgKiAgICAgLy8gSGFjZXIgYWxnbyBkZXNwdcOpcyBkZWwgbG9naW4gZXhpdG9zb1xuLy8gICogICB9XG4vLyAgKiB9O1xuLy8gICovXG4vLyBleHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbi8vICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uLCBzdGF0dXMsIHVwZGF0ZSB9ID0gdXNlU2Vzc2lvbigpXG4vLyAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4vLyAgIGNvbnN0IGxvY2FsZSA9IHVzZUFwcFNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUubGFuZ3VhZ2UubG9jYWxlKSB8fCBcImVuXCJcbi8vICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuLy8gICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPEF1dGhFcnJvciB8IG51bGw+KG51bGwpXG5cbi8vICAgLyoqXG4vLyAgICAqIEluaWNpYXIgc2VzacOzbiBjb24gZW1haWwgeSBjb250cmFzZcOxYVxuLy8gICAgKi9cbi8vICAgY29uc3QgbG9naW4gPSB1c2VDYWxsYmFjayhcbi8vICAgICBhc3luYyAoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpID0+IHtcbi8vICAgICAgIHNldElzTG9hZGluZyh0cnVlKVxuLy8gICAgICAgc2V0RXJyb3IobnVsbClcblxuLy8gICAgICAgdHJ5IHtcbi8vICAgICAgICAgY29uc29sZS5sb2coXCLwn5SRIHVzZUF1dGg6IEluaWNpYW5kbyBzZXNpw7NuIGNvbiBjcmVkZW5jaWFsZXMuLi5cIilcbi8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluKFwiY3JlZGVudGlhbHNcIiwge1xuLy8gICAgICAgICAgIHJlZGlyZWN0OiBmYWxzZSxcbi8vICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXG4vLyAgICAgICAgICAgcGFzc3dvcmQ6IGNyZWRlbnRpYWxzLnBhc3N3b3JkLFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgICAgIGlmIChyZXN1bHQ/LmVycm9yKSB7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2coXCLinYwgdXNlQXV0aDogRXJyb3IgZW4gbG9naW46XCIsIHJlc3VsdC5lcnJvcilcbi8vICAgICAgICAgICBzZXRFcnJvcih7IG1lc3NhZ2U6IFwiQ3JlZGVuY2lhbGVzIGluY29ycmVjdGFzXCIgfSlcbi8vICAgICAgICAgICByZXR1cm4gZmFsc2Vcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIGlmIChyZXN1bHQ/Lm9rKSB7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgdXNlQXV0aDogTG9naW4gZXhpdG9zb1wiKVxuXG4vLyAgICAgICAgICAgLy8gQWN0dWFsaXphciBsYSBzZXNpw7NuXG4vLyAgICAgICAgICAgYXdhaXQgdXBkYXRlKClcbi8vICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSB1c2VBdXRoOiBTZXNpw7NuIGFjdHVhbGl6YWRhXCIpXG5cbi8vICAgICAgICAgICAvLyBGb3J6YXIgYWN0dWFsaXphY2nDs24gZGUgbGEgVUkgdXNhbmRvIHJvdXRlclxuLy8gICAgICAgICAgIHJvdXRlci5yZWZyZXNoKClcblxuLy8gICAgICAgICAgIC8vIFNPTFVDScOTTiBBR1JFU0lWQTogUmVjYXJnYXIgbGEgcMOhZ2luYSBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXG4vLyAgICAgICAgICAgLy8gRXN0byBnYXJhbnRpemEgcXVlIHRvZG9zIGxvcyBjb21wb25lbnRlcyBzZSBhY3R1YWxpY2VuIGNvcnJlY3RhbWVudGVcbi8vICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgdXNlQXV0aDogUHJvZ3JhbWFuZG8gcmVjYXJnYSBkZSBww6FnaW5hIHBhcmEgYXNlZ3VyYXIgYWN0dWFsaXphY2nDs24gY29tcGxldGEuLi5cIilcbi8vICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCB1c2VBdXRoOiBSZWNhcmdhbmRvIHDDoWdpbmEuLi5cIilcbi8vICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC8ke2xvY2FsZX1gXG4vLyAgICAgICAgICAgfSwgMTAwKVxuXG4vLyAgICAgICAgICAgcmV0dXJuIHRydWVcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIHJldHVybiBmYWxzZVxuLy8gICAgICAgfSBjYXRjaCAoZXJyKSB7XG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgdXNlQXV0aDogRXJyb3IgZGUgYXV0ZW50aWNhY2nDs246XCIsIGVycilcbi8vICAgICAgICAgc2V0RXJyb3Ioe1xuLy8gICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpw7MgdW4gZXJyb3IgZHVyYW50ZSBsYSBhdXRlbnRpY2FjacOzblwiLFxuLy8gICAgICAgICAgIGNvZGU6IFwiYXV0aC91bmtub3duLWVycm9yXCIsXG4vLyAgICAgICAgIH0pXG4vLyAgICAgICAgIHJldHVybiBmYWxzZVxuLy8gICAgICAgfSBmaW5hbGx5IHtcbi8vICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAgW3VwZGF0ZSwgcm91dGVyXSxcbi8vICAgKVxuXG4vLyAgIC8qKlxuLy8gICAgKiBJbmljaWFyIHNlc2nDs24gY29uIEdvb2dsZVxuLy8gICAgKi9cbi8vICAgY29uc3QgbG9naW5XaXRoR29vZ2xlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuLy8gICAgIHNldElzTG9hZGluZyh0cnVlKVxuLy8gICAgIHNldEVycm9yKG51bGwpXG5cbi8vICAgICB0cnkge1xuLy8gICAgICAgY29uc29sZS5sb2coXCLwn5SRIHVzZUF1dGg6IEluaWNpYW5kbyBsb2dpbiBjb24gR29vZ2xlLi4uXCIpXG4vLyAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW4oXCJnb29nbGVcIiwgeyByZWRpcmVjdDogZmFsc2UgfSlcblxuLy8gICAgICAgaWYgKHJlc3VsdD8uZXJyb3IpIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coXCLinYwgdXNlQXV0aDogRXJyb3IgZW4gbG9naW4gY29uIEdvb2dsZTpcIiwgcmVzdWx0LmVycm9yKVxuLy8gICAgICAgICBzZXRFcnJvcih7IG1lc3NhZ2U6IFwiRXJyb3IgYWwgaW5pY2lhciBzZXNpw7NuIGNvbiBHb29nbGVcIiB9KVxuLy8gICAgICAgICByZXR1cm4gZmFsc2Vcbi8vICAgICAgIH1cblxuLy8gICAgICAgaWYgKHJlc3VsdD8ub2spIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coXCLinIUgdXNlQXV0aDogTG9naW4gY29uIEdvb2dsZSBleGl0b3NvXCIpXG5cbi8vICAgICAgICAgLy8gQWN0dWFsaXphciBsYSBzZXNpw7NuXG4vLyAgICAgICAgIGF3YWl0IHVwZGF0ZSgpXG5cbi8vICAgICAgICAgLy8gRm9yemFyIGFjdHVhbGl6YWNpw7NuIGRlIGxhIFVJXG4vLyAgICAgICAgIHJvdXRlci5yZWZyZXNoKClcblxuLy8gICAgICAgICAvLyBTT0xVQ0nDk04gQUdSRVNJVkE6IFJlY2FyZ2FyIGxhIHDDoWdpbmEgZGVzcHXDqXMgZGUgdW4gYnJldmUgcmV0cmFzb1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgdXNlQXV0aDogUHJvZ3JhbWFuZG8gcmVjYXJnYSBkZSBww6FnaW5hIHBhcmEgYXNlZ3VyYXIgYWN0dWFsaXphY2nDs24gY29tcGxldGEuLi5cIilcbi8vICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIHVzZUF1dGg6IFJlY2FyZ2FuZG8gcMOhZ2luYS4uLlwiKVxuLy8gICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC8ke2xvY2FsZX1gXG4vLyAgICAgICAgIH0sIDEwMClcblxuLy8gICAgICAgICByZXR1cm4gdHJ1ZVxuLy8gICAgICAgfVxuXG4vLyAgICAgICByZXR1cm4gZmFsc2Vcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgdXNlQXV0aDogRXJyb3IgZGUgYXV0ZW50aWNhY2nDs24gY29uIEdvb2dsZTpcIiwgZXJyKVxuLy8gICAgICAgc2V0RXJyb3Ioe1xuLy8gICAgICAgICBtZXNzYWdlOiBcIkVycm9yIGFsIGluaWNpYXIgc2VzacOzbiBjb24gR29vZ2xlXCIsXG4vLyAgICAgICAgIGNvZGU6IFwiYXV0aC9nb29nbGUtc2lnbmluLWZhaWxlZFwiLFxuLy8gICAgICAgfSlcbi8vICAgICAgIHJldHVybiBmYWxzZVxuLy8gICAgIH0gZmluYWxseSB7XG4vLyAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4vLyAgICAgfVxuLy8gICB9LCBbdXBkYXRlLCByb3V0ZXJdKVxuXG4vLyAgIC8qKlxuLy8gICAgKiBSZWdpc3RyYXIgdW4gbnVldm8gdXN1YXJpb1xuLy8gICAgKiBOb3RhOiBFc3RhIGZ1bmNpw7NuIGVzIHVuIGVqZW1wbG8geSBkZWJlIGFkYXB0YXJzZSBhIHR1IGltcGxlbWVudGFjacOzbiByZWFsXG4vLyAgICAqL1xuLy8gICBjb25zdCByZWdpc3RlciA9IHVzZUNhbGxiYWNrKFxuLy8gICAgIGFzeW5jIChjcmVkZW50aWFsczogUmVnaXN0ZXJDcmVkZW50aWFscykgPT4ge1xuLy8gICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4vLyAgICAgICBzZXRFcnJvcihudWxsKVxuXG4vLyAgICAgICB0cnkge1xuLy8gICAgICAgICAvLyBBcXXDrSBpbXBsZW1lbnRhcsOtYXMgbGEgbMOzZ2ljYSByZWFsIGRlIHJlZ2lzdHJvXG4vLyAgICAgICAgIC8vIFBvciBlamVtcGxvLCB1bmEgbGxhbWFkYSBhIHR1IEFQSVxuLy8gICAgICAgICBjb25zb2xlLmxvZyhcIvCflJEgdXNlQXV0aDogUmVnaXN0cmFuZG8gbnVldm8gdXN1YXJpby4uLlwiKVxuXG4vLyAgICAgICAgIC8vIFNpbXVsYWNpw7NuIGRlIHJlZ2lzdHJvIGV4aXRvc29cbi8vICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG5cbi8vICAgICAgICAgLy8gRGVzcHXDqXMgZGVsIHJlZ2lzdHJvIGV4aXRvc28sIGluaWNpYXIgc2VzacOzbiBhdXRvbcOhdGljYW1lbnRlXG4vLyAgICAgICAgIHJldHVybiBhd2FpdCBsb2dpbih7XG4vLyAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsLFxuLy8gICAgICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZCxcbi8vICAgICAgICAgfSlcbi8vICAgICAgIH0gY2F0Y2ggKGVycikge1xuLy8gICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIHVzZUF1dGg6IEVycm9yIGVuIHJlZ2lzdHJvOlwiLCBlcnIpXG4vLyAgICAgICAgIHNldEVycm9yKHtcbi8vICAgICAgICAgICBtZXNzYWdlOiBcIkVycm9yIGFsIHJlZ2lzdHJhciB1c3VhcmlvXCIsXG4vLyAgICAgICAgICAgY29kZTogXCJhdXRoL3JlZ2lzdHJhdGlvbi1mYWlsZWRcIixcbi8vICAgICAgICAgfSlcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlXG4vLyAgICAgICB9IGZpbmFsbHkge1xuLy8gICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICBbbG9naW5dLFxuLy8gICApXG5cbi8vICAgLyoqXG4vLyAgICAqIENlcnJhciBzZXNpw7NuXG4vLyAgICAqL1xuLy8gICBjb25zdCBsb2dvdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4vLyAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG5cbi8vICAgICB0cnkge1xuLy8gICAgICAgY29uc29sZS5sb2coXCLwn5SEIHVzZUF1dGg6IENlcnJhbmRvIHNlc2nDs24uLi5cIilcbi8vICAgICAgIGF3YWl0IHNpZ25PdXQoeyByZWRpcmVjdDogZmFsc2UgfSlcbi8vICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIHVzZUF1dGg6IFNlc2nDs24gY2VycmFkYSBjb3JyZWN0YW1lbnRlXCIpXG5cbi8vICAgICAgIC8vIEZvcnphciBhY3R1YWxpemFjacOzbiBkZSBsYSBVSSB1c2FuZG8gcm91dGVyXG4vLyAgICAgICByb3V0ZXIucmVmcmVzaCgpXG5cbi8vICAgICAgIC8vIFNPTFVDScOTTiBBR1JFU0lWQTogUmVjYXJnYXIgbGEgcMOhZ2luYSBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXG4vLyAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgdXNlQXV0aDogUHJvZ3JhbWFuZG8gcmVjYXJnYSBkZSBww6FnaW5hIHBhcmEgYXNlZ3VyYXIgYWN0dWFsaXphY2nDs24gY29tcGxldGEuLi5cIilcbi8vICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgdXNlQXV0aDogUmVjYXJnYW5kbyBww6FnaW5hLi4uXCIpXG4vLyAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC8ke2xvY2FsZX1gXG4vLyAgICAgICB9LCAxMDApXG5cbi8vICAgICAgIHJldHVybiB0cnVlXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XG4vLyAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIHVzZUF1dGg6IEVycm9yIGFsIGNlcnJhciBzZXNpw7NuOlwiLCBlcnIpXG4vLyAgICAgICBzZXRFcnJvcih7XG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgYWwgY2VycmFyIHNlc2nDs25cIixcbi8vICAgICAgICAgY29kZTogXCJhdXRoL3NpZ25vdXQtZmFpbGVkXCIsXG4vLyAgICAgICB9KVxuLy8gICAgICAgcmV0dXJuIGZhbHNlXG4vLyAgICAgfSBmaW5hbGx5IHtcbi8vICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbi8vICAgICB9XG4vLyAgIH0sIFtyb3V0ZXIsIGxvY2FsZV0pXG5cbi8vICAgLyoqXG4vLyAgICAqIExpbXBpYXIgZXJyb3JlcyBkZSBhdXRlbnRpY2FjacOzblxuLy8gICAgKi9cbi8vICAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbi8vICAgICBzZXRFcnJvcihudWxsKVxuLy8gICB9LCBbXSlcblxuLy8gICByZXR1cm4ge1xuLy8gICAgIHNlc3Npb24sXG4vLyAgICAgc3RhdHVzLFxuLy8gICAgIGlzTG9hZGluZyxcbi8vICAgICBlcnJvcixcbi8vICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHN0YXR1cyA9PT0gXCJhdXRoZW50aWNhdGVkXCIgJiYgISFzZXNzaW9uLFxuLy8gICAgIGxvZ2luLFxuLy8gICAgIGxvZ2luV2l0aEdvb2dsZSxcbi8vICAgICByZWdpc3Rlcixcbi8vICAgICBsb2dvdXQsXG4vLyAgICAgY2xlYXJFcnJvcixcbi8vICAgfVxuLy8gfVxuXG5cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwic2lnbkluIiwic2lnbk91dCIsInVzZVNlc3Npb24iLCJ1c2VSb3V0ZXIiLCJ1c2VBcHBTZWxlY3RvciIsInVzZUF1dGgiLCJkYXRhIiwic2Vzc2lvbiIsInN0YXR1cyIsInVwZGF0ZSIsInJvdXRlciIsImxvY2FsZSIsInN0YXRlIiwibGFuZ3VhZ2UiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwibG9naW4iLCJjcmVkZW50aWFscyIsImNvbnNvbGUiLCJsb2ciLCJyZXN1bHQiLCJyZWRpcmVjdCIsImVtYWlsIiwicGFzc3dvcmQiLCJtZXNzYWdlIiwib2siLCJyZWZyZXNoIiwicHVzaCIsImVyciIsImNvZGUiLCJsb2dpbldpdGhHb29nbGUiLCJjYWxsYmFja1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwidXJsIiwiaHJlZiIsInJlZ2lzdGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibG9nb3V0IiwiY2xlYXJFcnJvciIsImlzQXV0aGVudGljYXRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useAuth.ts\n"));

/***/ })

});